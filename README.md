# 🎮 무선 조종기를 활용한 LED 제어 프로젝트 (Arduino + R9DS + RGB LED)

## 📌 프로젝트 개요

본 프로젝트는 R9DS 수신기를 통해 무선으로 전송되는 PWM 신호를 Arduino UNO가 수신하여, LED의 밝기 제어, ON/OFF 제어, 색상 제어 기능을 수행하는 시스템입니다. 조종기의 스틱/스위치를 활용해 다양한 LED 반응을 구현합니다.

## 🔧 사용 부품

- Arduino UNO 보드
- R9DS 수신기 (PWM 출력용)
- AT9 조종기 (R9DS와 연동)
- RGB LED
- 단색 LED 2개 (초록, 파랑)
- 점퍼 케이블 등 배선 재료

---

## ⚡️ 배선 연결표

![배선 연결도](./figure/배선%20연결도.jpg)

| 수신기 채널 | 연결 핀 (Arduino) | 설명 |
|-------------|--------------------|------|
| CH1         | D7                 | RGB 색상 제어 입력 (RGB LED)|
| CH3         | D2                 | 밝기 조절 입력 (초록색 LED) |
| CH9         | D3                 | ON/OFF 입력 (파란색 LED) |

| 출력 기능            | 연결 핀 (Arduino) | 설명 |
|----------------------|--------------------|------|
| 초록색 밝기 LED      | D6        | 밝기 제어용 LED |
| 파란색 ON/OFF LED    | D9      | 켜짐/꺼짐 제어용 LED |
| RGB LED - Red 핀     | D5        | 스펙트럼 색상 R |
| RGB LED - Green 핀   | D10       | 스펙트럼 색상 G |
| RGB LED - Blue 핀    | D11       | 스펙트럼 색상 B |

---

## 💻 기능 구현 담당 정리

| 기능 항목              | 설명                            | 담당자     |
|------------------------|----------------------------------|------------|
| 밝기 제어 (CH3)        | PWM 펄스폭에 따라 LED 밝기 조절   | **김예진** |
| ON/OFF 제어 (CH9)      | PWM 신호 범위에 따라 LED 켜짐/꺼짐 | **김예진** |
| 색상 제어 (CH1)        | PWM을 HSV 색상값으로 변환 → RGB 출력 | 정이지      |


> 💡 소스코드 파일 내부에 각 기능별 주석이 상세히 작성되어 있으므로 함께 참고 바랍니다.

---

## 🔁 설계 흐름도 (논리 흐름 설명)

```text
[조종기 스틱/스위치]
↓ (무선 송신)
[R9DS 수신기 (CH1, CH3, CH9)]
↓ (PWM 입력)
[Arduino UNO]
├─ CH3 → 밝기 제어 (PWM → 0~255 → analogWrite)
├─ CH9 → ON/OFF 제어 (PWM 범위 확인 → digitalWrite)
└─ CH1 → 색상 제어 (PWM → Hue → RGB 계산 → analogWrite)

[출력]
├─ 초록 LED (밝기 반영)
├─ 파란 LED (ON/OFF 반영)
└─ RGB LED (색상 스펙트럼 출력)
```
위 흐름은 아두이노가 각 채널에 대해 PWM 값을 해석한 후, 적절한 방식으로 LED에 출력을 주는 전체 흐름을 요약한 것입니다.

---

## 🛠️ 실행 방법

1. 배선 연결을 위 표대로 구성합니다.
2. 소스코드 파일을 Arduino IDE에서 업로드합니다.
3. 시리얼 모니터를 통해 PWM 신호 및 내부 상태를 확인할 수 있습니다 (9600 baud).
4. 조종기의 스틱/스위치를 움직여 각 기능을 제어해보세요.


---

## 📌 참고 사항

- 아두이노는 Uno 보드를 기준으로 작성되었습니다.
- PWM 해상도는 대략 1000~2000μs 범위로 측정되며, 실제 수신기 신호 품질에 따라 오차가 발생할 수 있습니다.
- 핀체인지 인터럽트는 직접 설정된 레지스터를 통해 사용되며, AVR 기반 아두이노에서만 작동합니다.

---

## 🎬 시연 영상 (YouTube)

▶️ [YouTube에서 영상 보기](https://youtu.be/3j91EYPgsp0)
